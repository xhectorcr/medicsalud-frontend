<div class="app-container">
  <app-sidebarpaciente></app-sidebarpaciente>
  <main class="main-content" style="margin-left: 260px; padding: 20px;">
    <div class="account-settings">
      <h1 class="title">Mi Perfil</h1>

      <div class="section">
        <h2 class="section-title">Información personal</h2>
        <p class="section-subtitle">Actualiza tu información de contacto y dirección.</p>

        <div *ngIf="loading" class="loading-indicator">Cargando datos...</div>
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

        <div class="form-grid" *ngIf="!loading">
          <div class="form-group">
            <label>Nombre</label>
            <input type="text" [(ngModel)]="formData.nombre" class="form-control" placeholder="Tu nombre" />
          </div>

          <div class="form-group">
            <label>Apellido</label>
            <input type="text" [(ngModel)]="formData.apellido" class="form-control" placeholder="Tu apellido" />
          </div>

          <div class="form-group">
            <label>Correo electrónico</label>
            <input type="email" [(ngModel)]="formData.email" class="form-control" placeholder="correo@ejemplo.com" />
          </div>

          <div class="form-group">
            <label>Número de teléfono</label>
            <input type="tel" [(ngModel)]="formData.telefono" class="form-control" placeholder="+51 999 999 999" />
          </div>
        </div>

        <div class="form-group" *ngIf="!loading">
          <label>Dirección</label>
          <textarea [(ngModel)]="formData.direccion" class="form-control" rows="3"
            placeholder="Tu dirección completa"></textarea>
        </div>
      </div>

      <div class="actions">
        <button class="btn-save" (click)="onSubmit()" [disabled]="loading">
          {{ loading ? 'Guardando...' : 'Guardar cambios' }}
        </button>

        <button class="btn-logout" (click)="logout()"
          style="background-color: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin-left: 10px; cursor: pointer;">
          Cerrar Sesión
        </button>
      </div>
    </div>
  </main>
</div>